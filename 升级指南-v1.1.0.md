# 🎉 cursor-rain-effect v1.1.0 升级指南

## 🆕 新功能概览

### 1. 初速度控制 (initialVelocity)
现在你可以控制雨滴的初始下落速度：

```javascript
import { initCursorRainForVitePress } from 'cursor-rain-effect';

initCursorRainForVitePress({
  initialVelocity: [100, 300],  // 初速度范围 [最小值, 最大值] px/s
  // 其他配置...
});
```

### 2. 重力物理效果 (gravity)
添加真实的重力加速度效果：

```javascript
initCursorRainForVitePress({
  gravity: 500,  // 重力加速度 px/s²
  // 其他配置...
});
```

### 3. 真实物理计算
雨滴现在遵循真实的物理运动方程：`s = v₀t + ½gt²`

## 🎛️ 预设效果

### 轻柔飘散 (适合雪花效果)
```javascript
{
  initialVelocity: [0, 50],
  gravity: 200,
  color: 'rgba(255, 255, 255, 0.8)',
  duration: [3.0, 5.0]
}
```

### 缓慢飘落 (春雨效果)
```javascript
{
  initialVelocity: [50, 150],
  gravity: 300,
  color: 'rgba(144, 238, 144, 0.6)',
  duration: [2.0, 3.0]
}
```

### 正常速度 (默认效果)
```javascript
{
  initialVelocity: [100, 300],  // 默认值
  gravity: 500                  // 默认值
}
```

### 急速下坠 (暴雨效果)
```javascript
{
  initialVelocity: [200, 500],
  gravity: 800,
  color: 'rgba(100, 149, 237, 0.8)',
  duration: [0.3, 0.8],
  maxDrops: 50
}
```

### 极速暴雨 (台风效果)
```javascript
{
  initialVelocity: [400, 800],
  gravity: 1200,
  color: 'rgba(70, 130, 180, 0.9)',
  duration: [0.2, 0.5],
  maxDrops: 60
}
```

## 📦 如何升级

### 1. 更新包版本
```bash
npm update cursor-rain-effect
# 或指定版本
npm install cursor-rain-effect@1.1.0
```

### 2. 更新你的配置
在你的 `.vitepress/theme/index.ts` 或相应文件中：

```javascript
// 旧版本 (v1.0.0)
initCursorRainForVitePress({
  maxDrops: 25,
  color: 'rgba(173, 216, 230, 0.6)',
  duration: [1.0, 2.0]
});

// 新版本 (v1.1.0) - 添加物理效果
initCursorRainForVitePress({
  maxDrops: 25,
  color: 'rgba(173, 216, 230, 0.6)',
  duration: [1.0, 2.0],
  initialVelocity: [150, 400],  // 🆕 新增
  gravity: 600                  // 🆕 新增
});
```

## 🔧 动态调整参数

你可以在运行时动态调整新参数：

```javascript
// 获取雨点效果实例
const rainEffect = window.rainEffect; // 如果你保存了引用

// 切换到轻柔模式
rainEffect.updateOptions({
  initialVelocity: [20, 80],
  gravity: 250,
  color: 'rgba(255, 255, 255, 0.7)'
});

// 切换到暴雨模式
rainEffect.updateOptions({
  initialVelocity: [300, 600],
  gravity: 900,
  color: 'rgba(70, 130, 180, 0.9)'
});
```

## 🎯 兼容性说明

- ✅ **向后兼容**: 旧版本的所有配置依然有效
- ✅ **可选参数**: 新参数都是可选的，有合理的默认值
- ✅ **性能优化**: 新的物理计算经过优化，不会影响性能

## 🐛 常见问题

### Q: 升级后雨滴太快了？
A: 降低 `initialVelocity` 和 `gravity` 的值：
```javascript
{
  initialVelocity: [50, 150],  // 降低初速度
  gravity: 300                 // 降低重力
}
```

### Q: 想要更真实的物理效果？
A: 使用更高的重力值和合理的初速度：
```javascript
{
  initialVelocity: [100, 200],
  gravity: 800  // 接近真实重力的效果
}
```

### Q: 如何恢复到v1.0.0的效果？
A: 不设置新参数即可，或者显式设置：
```javascript
{
  initialVelocity: [100, 300],  // v1.1.0默认值
  gravity: 500                  // v1.1.0默认值
}
```

## 📝 更新日志

查看完整的更新日志：[CHANGELOG.md](./CHANGELOG.md)

---

🎉 享受更真实的雨滴物理效果吧！
